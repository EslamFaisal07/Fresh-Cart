import{a as V}from"./chunk-KY2UTEOP.js";import{l as P}from"./chunk-WFP56POE.js";import{a as I}from"./chunk-I5MYN75V.js";import{i as E}from"./chunk-UP7XQW4A.js";import"./chunk-53U67BYA.js";import{$ as L,Fb as l,Gb as p,Hb as b,Ja as w,Na as o,Nb as k,Ob as y,Pb as F,Y as d,db as v,fb as f,ja as u,jb as x,ka as h,kb as T,lb as C,mb as g,nb as a,ob as c,pb as m,sb as W,wb as S,xb as _}from"./chunk-C44XZLMI.js";import"./chunk-CWTPBX7D.js";var j=(t,i)=>i._id,A=t=>["/details",t],$=()=>[0,1,2,3,4,5];function D(t,i){t&1&&m(0,"i",11)}function M(t,i){t&1&&m(0,"i",12)}function O(t,i){if(t&1){let r=W();a(0,"div",3)(1,"div",4)(2,"i",5),S("click",function(){let e=u(r).$implicit,s=_(2);return h(s.removeProduct(e.id))}),c(),a(3,"div",6),m(4,"img",7),a(5,"h3",8),l(6),c(),a(7,"h4",9),l(8),c(),a(9,"div",10)(10,"span"),l(11),c(),a(12,"div"),C(13,D,1,0,"i",11,T),v(15,M,1,0,"i",12),a(16,"span",13),l(17),c()()()(),a(18,"button",14),S("click",function(){let e=u(r).$implicit,s=_(2);return h(s.addToCart(e._id))}),l(19,"Add to Cart"),c()()()}if(t&2){let r=i.$implicit;o(3),f("routerLink",F(8,A,r.id)),o(),f("src",r.imageCover,w)("alt",r.title),o(2),p(r.category.name),o(2),p(r.title.split(" ",2).join(" ")),o(3),b(" ",r.price," EGP"),o(2),g(y(10,$).slice(0,r.ratingsAverage)),o(2),x(15,r.ratingsAverage%1!==0?15:-1),o(2),p(r.ratingsAverage)}}function z(t,i){if(t&1&&C(0,O,20,11,"div",3,j),t&2){let r=_();g(r.wishList)}}function B(t,i){t&1&&m(0,"img",15)}var K=(()=>{let i=class i{constructor(){this._WishListService=d(V),this._CartService=d(I),this._ToastrService=d(P),this.wishList=[]}ngOnInit(){this._WishListService.getProductWishList().subscribe({next:n=>{this.wishList=n.data},error:n=>{console.error(n)}})}removeProduct(n){this._WishListService.removeProductFromWishList(n).subscribe({next:e=>{localStorage.setItem("heart",e.data),this._ToastrService.error("Product removed from wish list"),this._WishListService.getProductWishList().subscribe({next:s=>{this.wishList=s.data},error:s=>{console.log(s)}})},error:e=>{console.error(e)}})}addToCart(n){this._CartService.addProductToCart(n).subscribe({next:e=>{this._ToastrService.success(e.message,"FreshCart"),this._CartService.cartNumber.set(e.numOfCartItems)},error:e=>{console.log(e)}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=L({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[k],decls:5,vars:1,consts:[[1,"my-5","py-5"],[1,"container"],[1,"row","g-4"],[1,"col-md-4","col-lg-3"],[1,"card","product","p-2"],[1,"cr","fa-solid","fa-heart","text-danger","my-3","fa-xl",3,"click"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main","mt-1"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fas","fa-star","rating-color"],[1,"fa-regular","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100","mt-2",3,"click"],["src","./assets/images/wishEmpty.jpg","alt","",1,"w-50","mx-auto"]],template:function(e,s){e&1&&(a(0,"section",0)(1,"div",1)(2,"div",2),v(3,z,2,0)(4,B,1,0),c()()()),e&2&&(o(3),x(3,s.wishList.length!==0?3:4))},dependencies:[E]});let t=i;return t})();export{K as WishListComponent};
